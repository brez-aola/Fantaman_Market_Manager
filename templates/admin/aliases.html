<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Admin - Aliases</title>
    <link rel="stylesheet" href="/static/admin.css">
  </head>
  <body>
    <h1>Team Aliases</h1>
    <form method="get">
      <input type="text" name="q" placeholder="Search alias" value="{{ q if q is defined else '' }}">
      <button type="submit">Search</button>
    </form>
    <table>
      <thead><tr><th>ID</th><th>Team ID</th><th>Alias</th><th>Actions</th></tr></thead>
      <tbody>
        {% for a in aliases %}
          <tr>
            <td>{{ a[0] }}</td>
            <td>{{ a[1] }}</td>
            <td>{{ a[2] }}</td>
            <td>
              <form method="post" style="display:inline">
                <input type="hidden" name="alias_id" value="{{ a[0] }}">
                <input type="text" name="alias_text" value="{{ a[2] }}">
                <button name="action" value="update">Update</button>
              </form>
              <form method="post" style="display:inline">
                <input type="hidden" name="alias_id" value="{{ a[0] }}">
                <button name="action" value="delete">Delete</button>
              </form>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
    {% if pages and pages > 1 %}
      <div class="pagination">
        {% for p in range(1, pages+1) %}
          {% if p == page %}
            <strong>{{ p }}</strong>
          {% else %}
            <a href="?page={{ p }}{% if q %}&q={{ q }}{% endif %}">{{ p }}</a>
          {% endif %}
        {% endfor %}
      </div>
    {% endif %}
    <p><a href="{{ url_for('admin.index') }}">Back</a></p>
  </body>
</html>
