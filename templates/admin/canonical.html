<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Canonical mappings</title>
    <link rel="stylesheet" href="/static/admin.css">
  </head>
  <body>
    <h1>Canonical mappings</h1>
    <form method="post">
      <label>Variant: <input name="variant"></label>
      <label>Canonical: <input name="canonical"></label>
      <button type="submit">Add / Update</button>
      <button type="submit" name="action" value="export">Export CSV</button>
    </form>
    <h2>Existing</h2>
    <table>
      <thead><tr><th>ID</th><th>Variant</th><th>Canonical</th></tr></thead>
      <tbody>
        {% for m in mappings %}
          <tr>
            <td>{{ m[0] }}</td><td>{{ m[1] }}</td><td>{{ m[2] }}</td>
            <td>
              <form method="post" style="display:inline">
                <input type="hidden" name="id" value="{{ m[0] }}">
                <button name="action" value="delete">Delete</button>
              </form>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
    <p><a href="{{ url_for('admin.index') }}">Back</a></p>
  </body>
</html>
